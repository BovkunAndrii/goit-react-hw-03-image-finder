{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/ImageGallery/ImadeGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Modal/Modal.module.css","services/ApiService.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","apiService","query","page","axios","get","then","data","hits","SearchForm","state","qwery","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","S","Searchbar","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","bigImage","map","id","webformatURL","largeImageURL","Button","loader","Loader","color","height","width","modalRoot","document","querySelector","Modal","handleKeydown","code","showModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","largeImage","imgTags","error","isLoading","toggleModal","fetchPictures","options","ApiService","prevState","catch","finally","onChangeQwery","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.78a9bdee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1TmUu\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3qOZn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__30Zvi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImadeGallery_ImageGallery__Uby52\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2qqOn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3Hcb0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3i2Cq\",\"Modal\":\"Modal_Modal__SFebJ\"};","import axios from \"axios\";\n\nconst API_KEY = \"21713513-de4fa038d3971b80a05884d99\";\n\nconst apiService = ({ query = \"\", page = 1 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=15`\n    )\n    .then(({ data }) => data.hits);\n};\n\nexport default apiService;\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport S from \"./Searchbar.module.css\";\n\nclass SearchForm extends Component {\n  state = { qwery: \"\" };\n\n  handleChange = (e) => {\n    this.setState({ qwery: e.currentTarget.value });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.qwery);\n    this.setState({ qwery: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={S.Searchbar}>\n        <form className={S.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={S.SearchFormButton}>\n            <span className={S.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={S.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  qwery: PropTypes.string,\n};\n\nexport default SearchForm;\n","import PropTypes from \"prop-types\";\nimport S from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ image, onClick }) => {\n  return (\n    <li className={S.ImageGalleryItem}>\n      <img\n        src={image}\n        alt=\"\"\n        className={S.ImageGalleryItemImage}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n  bigImage: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport S from \"./ImadeGallery.module.css\";\n\nconst ImageGallery = ({ pictures, bigImage }) => {\n  return (\n    <ul className={S.ImageGallery}>\n      {pictures.map(({ id, webformatURL, largeImageURL }) => {\n        const handleItemClick = () => bigImage(largeImageURL);\n\n        return (\n          <ImageGalleryItem\n            key={id}\n            image={webformatURL}\n            onClick={handleItemClick}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  pictures: PropTypes.array,\n  bigImage: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import PropTypes from \"prop-types\";\nimport S from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={S.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport S from './Loader.module.css';\n\nconst loader = () => {\n  return (\n    <Loader\n      className={S.Loader}\n      type=\"ThreeDots\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n    />\n  );\n};\n\nexport default loader;\n","import { createPortal } from \"react-dom\";\nimport { Component } from \"react\";\nimport S from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeydown);\n  }\n  handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.showModal();\n    }\n  };\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.showModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={S.Overlay} onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport S from \"./App.module.css\";\nimport PropTypes from \"prop-types\";\nimport ApiService from \"./services/ApiService\";\nimport SearchForm from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    query: \"\",\n    largeImage: \"\",\n    imgTags: \"\",\n    error: \"\",\n    showModal: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchPictures();\n    }\n    if (this.state.page !== 2 && prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  toggleModal = () => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  bigImage = (largeImage = \"\") => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  fetchPictures = () => {\n    const { page, query } = this.state;\n    const options = {\n      page,\n      query,\n    };\n\n    this.setState({ isLoading: true });\n\n    ApiService(options)\n      .then((pictures) => {\n        this.setState((prevState) => ({\n          pictures: [...prevState.pictures, ...pictures],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error: \"Picture not found\" }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onChangeQwery = (query) => {\n    this.setState({ query: query, page: 1, pictures: [], error: null });\n  };\n\n  render() {\n    const { pictures, isLoading, error, showModal, largeImage, imgTags } =\n      this.state;\n\n    return (\n      <div className={S.App}>\n        <SearchForm onSubmit={this.onChangeQwery} />\n\n        {error && <h1>{error}</h1>}\n\n        <ImageGallery pictures={pictures} bigImage={this.bigImage} />\n        {isLoading && <Loader />}\n        {pictures.length > 11 && !isLoading && (\n          <Button onClick={this.fetchPictures} />\n        )}\n\n        {showModal && (\n          <Modal showModal={this.bigImage}>\n            <img src={largeImage} alt={imgTags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  pictures: PropTypes.array,\n  page: PropTypes.number,\n  query: PropTypes.string,\n  largeImage: PropTypes.string,\n  imgTags: PropTypes.string,\n  error: PropTypes.string,\n  showModal: PropTypes.bool,\n  isLoading: PropTypes.bool,\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__26jD5\",\"SearchForm\":\"Searchbar_SearchForm__2q1P-\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3bil5\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1yNZd\",\"SearchFormInput\":\"Searchbar_SearchFormInput__14bsJ\"};"],"sourceRoot":""}